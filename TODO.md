# Список задач

Задача бэка -- создать API, который возвращает данные в **JSON**, а фронт их обрабатывает и представляет в виде стилизованных HTML страниц.

## Презентация

## База

- [ ] Прикрутить регистрацию & авторизацию. 
  - [ ] Создать соответствующую конечную точку API с сервисом и контроллером

- [X] Прочитать ТЗ, выделить перечень задач, ранжировть их оп приоритету.
- [ ] Ознакомиться с реакт

- [ ] Создать базу данных проекта, упаковать ее в docker-контейнер и развернуть на сервере.
  - [X]  Создать классы-сущности, описывающие необходимые таблицы 
    - [X] Понять, как лучше хранить класс билета (как перечисление или как строку)
    - [X] Разобраться с представлением связи многие ко многим, какую лучше использовать (однонаправленную, двунаправленную)
      - Связь между пользователем и локацией лучше сделать двунаправленной, а связь между пользователями и билетами -> однонаправленной.

  - [X] Добавить к билетам информацию о локациях (связь двунаправленная)

  - [ ] Упаковать базу данных проекта в докер-контейнер

- [ ] Понять, как должны взаимодействовать фронт и бэк, как два docker-контейнера, или как 2 каталога в одном приложении

- [X] Создать кастомный обработчик исключений (@ContollerAdvice класс) и кастомное исключение

- [X] Создать класс-mapper, преобразующий классы-сущности в классы-dto и обратно

## !!! Макет

- [ ] Сделать макет как у яндексоидов

Продвинуться в составлении макета и продолжить реализовывать бизнес-логику.

- [ ] Создать карточки

- [ ] Создать поля расчета стоимости авиабилета

На главной странице сайта отображается список направлений и средняя цена за билет по направлкению

## !!! Презентация

- [ ] Сделать презентацию 


## Контроллеры

Определиться с перечнем конечных точек API.

- [ ] Создать контроллер домашней страницы

- [ ] Контроллер регистрации/автооризации пользователя (можно подрубить Spring Security & Web токены).

Заметим, что контроллер оперирует Dto, а репозиторий Entity, репозиторием оперирует сервис.

## Бизнес-логика

- [ ] Реализовать авторизацию пользователя через веб-токены.

Должна включать расчет стоимости авиабилетов с помощью модели (для фронта);
- [ ] Куда это включить ???

- Функционал выбора маршрута и расчета стоимости авиабилетов;
(должна быть модель)

- [?] Добавление мест в избранное пользователя (должна быть соответствующая конечная точка);
(легко)

- [X] Подборка популярных мест для выбранного направления (ну то есть будет поиск по названию страны);

- [X] Топ 5 популярных направлений для путешествия
  Должна быть соответствующая конечная точка & соотв. метод в сервисе.

### Ticket

У нас вообще пока будет одна страна и много городов.

что такое ch_code

У нас вообще не хранятся билеты, мы скармливаем модели дату, дату отправления, время отправления, время прибытия, то есть все что дали в таблице кроме цены, цену должна предсказать модель

### Airport (аэропорт)

Страна, город, код
Список аэропортов отображать по городу

### Location (популярное место)

При составлении маршрута в билете указывают коды аэропортов.

Должна быть табличка аэропортов, в избранное добавляют. 

В избранное добавляют места в окрестности выбранного города.


Идентификатором аэропрта должен быть его код




- Изменение профиля пользователя (требуется реализовать авторизацию через веб токены)

- История запросов пользователя (должен возвращать список билетов пользователя)

- Просмотр избранных мест